<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>视频比例转换工具</title>
    <link rel="stylesheet" href="/static/style.css?v=2.1.0">
</head>
<body>
    <nav class="main-nav">
        <div class="nav-brand">工具箱</div>
        <a href="/" class="nav-link active">视频比例转换</a>
        <a href="/rename" class="nav-link">素材重命名</a>
    </nav>

    <div class="container">
        <header>
            <h1>视频比例转换工具</h1>
            <p class="subtitle">上传视频，自动生成其他比例版本（模糊背景填充）</p>
        </header>

        <div id="drop-zone" class="drop-zone">
            <div class="drop-zone-content">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                    <polyline points="17 8 12 3 7 8"/>
                    <line x1="12" y1="3" x2="12" y2="15"/>
                </svg>
                <p>拖拽视频文件到此处，或 <span class="browse-link">点击选择</span></p>
                <p class="hint">支持 MP4, AVI, MOV, MKV 等格式</p>
            </div>
            <input type="file" id="file-input" multiple accept="video/*" hidden>
        </div>

        <div class="output-config">
            <div class="section-header">
                <h2>输出目录</h2>
            </div>
            <div class="output-path-row">
                <input type="text" id="output-path" class="output-path-input"
                       placeholder="留空则使用默认目录（项目目录/output）">
                <button id="browse-output-btn" class="btn btn-secondary">浏览</button>
            </div>
        </div>

        <div id="file-list" class="file-list" style="display:none">
            <div class="section-header">
                <h2>已上传文件</h2>
                <button id="clear-btn" class="btn btn-secondary">清空列表</button>
            </div>
            <div id="file-items"></div>
            <button id="process-btn" class="btn btn-primary">开始处理</button>
        </div>

        <div id="progress-section" class="progress-section" style="display:none">
            <h2>处理进度</h2>
            <div class="progress-bar-container">
                <div id="progress-bar" class="progress-bar"></div>
            </div>
            <p id="progress-text" class="progress-text"></p>
        </div>

        <div id="results-section" class="results-section" style="display:none">
            <h2>处理结果</h2>
            <div id="result-items"></div>
            <div id="error-items" class="error-list"></div>
            <button id="open-folder-btn" class="btn btn-primary" style="margin-top: 16px;">
                打开输出文件夹
            </button>
        </div>
    </div>

    <script src="/static/script.js?v=2.1.0"></script>
</body>
</html>
